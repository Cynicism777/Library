<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="UTF-8">
  <title>Search Book</title>
</head>

<body>
<h2>Search Book</h2>
<form action="#" th:action="@{/bookManage/searchBook}" th:object="${book}" method="get">
  <p>Book ID: <input type="text" th:field="*{bookId}" name="bookId" /></p>
  <p>Book name: <input type="text" th:field="*{bookName}" name="bookName" /></p>
  <p>Author: <input type="text" th:field="*{author}" name="author" /></p>
  <p>ISBN: <input type="text" th:field="*{isbn}" name="isbn" /></p>
  <p>Publishing house: <input type="text" th:field="*{publishingHouse}" name="publishingHouse" /></p>
  <p>Category: <input type="text" th:field="*{category}" name="category" /></p>
  <p>Year: <input type="text" th:field="*{year}" name="year" /></p>
  <p><input type="submit" value="Search" /></p>
</form>

<table>
  <thead>
  <tr>
    <th>Book ID</th>
    <th>Book Name</th>
    <th>Author</th>
    <th>ISBN</th>
    <th>Publishing House</th>
    <th>Category</th>
    <th>Year</th>
  </tr>
  </thead>
  <tbody>
  <tr th:each="book : ${books}">
    <td th:text="${book.bookId}"></td>
    <td th:text="${book.bookName}"></td>
    <td th:text="${book.author}"></td>
    <td th:text="${book.isbn}"></td>
    <td th:text="${book.publishingHouse}"></td>
    <td th:text="${book.category}"></td>
    <td th:text="${book.year}"></td>
    <form action="#" th:action="@{/bookManage/deleteBook}" method="post" onsubmit="return confirm('Are you sure to delete this book?')">
      <input type="hidden" name="bookId" th:value="${book.bookId}" />
      <input type="submit" value="Delete" />
    </form>
    <td>
      <form action="#" th:action="@{/bookManage/deleteBook}" method="post">
        <input type="hidden" name="bookId" th:value="${book.bookId}" />
        <input type="submit" value="Delete" />
      </form>
    </td>
  </tr>
  </tbody>
  <div id="alert" th:if="${param.message}">
    <script th:inline="javascript">
      /*<![CDATA[*/
      alert([[${param.message}]]); // 弹出提示框
      /*]]>*/
    </script>
  </div>
</table>
</body>

</html>
